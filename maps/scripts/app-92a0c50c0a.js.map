{"version":3,"sources":["scripts/app.js"],"names":["root","factory","define","amd","module","exports","Papa","this","CsvToJson","_input","_config","dynamicTyping","worker","WORKERS_SUPPORTED","w","newWorker","userStep","step","userChunk","chunk","userComplete","complete","userError","error","isFunction","postMessage","input","config","workerId","id","streamer","download","NetworkStreamer","StringStreamer","global","File","Object","FileStreamer","stream","JsonToCsv","unpackConfig","delimiter","length","BAD_DELIMITERS","indexOf","_delimiter","quotes","Array","_quotes","newline","_newline","objectKeys","obj","keys","key","push","serialize","fields","data","csv","JSON","parse","hasHeader","dataKeyedByField","i","safe","row","maxCol","col","colIdx","str","toString","replace","needsQuotes","hasAny","charAt","substrings","meta","ChunkStreamer","replaceConfig","configCopy","copy","chunkSize","parseInt","_handle","ParserHandle","_paused","_finished","_baseIndex","_partialLine","_rowCount","_start","_nextChunk","isFirstChunk","_completeResults","errors","call","parseChunk","beforeFirstChunk","modifiedChunk","undefined","aggregate","results","paused","aborted","lastIndex","cursor","substring","finishedIncludingPreview","preview","IS_PAPA_WORKER","WORKER_ID","finished","concat","_sendError","getFileSize","xhr","contentRange","getResponseHeader","substr","lastIndexOf","RemoteChunkSize","IS_WORKER","_readChunk","_chunkLoaded","url","XMLHttpRequest","withCredentials","onload","bindFunction","onerror","_chunkError","open","end","setRequestHeader","send","err","message","status","readyState","responseText","errorMessage","errorText","statusText","LocalChunkSize","reader","slice","usingAsyncReader","FileReader","file","webkitSlice","mozSlice","FileReaderSync","Math","min","size","txt","readAsText","encoding","target","result","event","string","remaining","s","processResults","_results","_delimiterError","addError","DefaultDelimiter","skipEmptyLines","splice","needsHeaderRow","fillHeaderFields","applyHeaderAndDynamicTyping","header","_fields","j","parseDynamic","field","value","tryParseFloat","guessDelimiter","bestDelim","bestDelta","fieldCountPrevRow","delimChoices","RECORD_SEP","UNIT_SEP","delim","delta","avgFieldCount","Parser","fieldCount","abs","successful","bestDelimiter","guessLineEndings","r","split","n","nAppearsFirst","numWithN","val","isNumber","FLOAT","test","parseFloat","type","code","msg","_parser","self","_stepCounter","_aborted","abort","baseIndex","ignoreLastRow","delimGuess","parserConfig","pause","getCharIndex","resume","comments","fastMode","quoteChar","pushRow","lastCursor","finish","returnable","inputLen","stepIsFunction","doStep","saveRow","newCursor","nextNewline","stopped","linebreak","truncated","delimLen","newlineLen","commentsLen","rows","nextDelim","quoteCharRegex","RegExp","quoteSearch","index","getScriptPath","scripts","document","getElementsByTagName","src","LOADED_SYNC","SCRIPT_PATH","Error","workerUrl","AUTO_SCRIPT_PATH","Worker","onmessage","mainThreadReceivedMessage","workerIdCounter","workers","e","completeWorker","handle","notImplemented","terminate","workerThreadReceivedMessage","cpy","f","apply","arguments","func","Function","location","search","unparse","String","fromCharCode","BYTE_ORDER_MARK","jQuery","$","fn","options","parseNextFile","queue","before","returned","inputElem","action","reason","fileComplete","instanceConfig","extend","userCompleteFunc","name","elem","each","idx","supported","prop","toUpperCase","attr","toLowerCase","files","body","addEventListener","prototype","create","constructor","angular","webDevTec","getTec","title","description","logo","service","acmeNavbar","NavbarController","moment","vm","relativeDate","creationDate","fromNow","$inject","directive","restrict","templateUrl","scope","controller","controllerAs","bindToController","acmeMalarkey","malarkey","linkFunc","el","watcher","typist","typeSpeed","deleteSpeed","pauseDelay","loop","postfix","addClass","forEach","extraValues","$watch","contributors","contributor","login","$on","MalarkeyController","$log","githubContributor","activate","getContributors","then","info","template","link","VisFooterbar","FooterCtrl","$http","limit","getContributorsComplete","response","getContributorsFailed","toJson","get","apiHost","DataLl","$timeout","fetchPaymentHistory","fetchPaymentDetails","$uibModalInstance","payment","$ctrl","paymentDetails","ok","close","selected","item","cancel","dismiss","MainController","$q","$uibModal","DL","DvSupport","DvBusiness","initView","all","_updatePaymentRecords","_updatePaymentHistory","resultBundle","console","log","_showDetails","modalInstance","animation","ariaLabelledBy","ariaDescribedBy","resolve","selectedItem","_getSubTotal","paymentRow","compute_paymentRecordRowTotal","csvString","records","CSVtoJSON","store","payment_details","history_records","showToastr","getSubTotal","showDetails","usage","freeQuota","chargable","perUnit","papaData","runBlock","debug","run","routerConfig","$stateProvider","$urlRouterProvider","state","otherwise","constant","$logProvider","debugEnabled","$templateCache","put"],"mappings":"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","file":"scripts/app-92a0c50c0a.js","sourcesContent":["/*!\n\tPapa Parse\n\tv4.1.2\n\thttps://github.com/mholt/PapaParse\n*/\n(function(root, factory)\n{\n\tif (typeof define === 'function' && define.amd)\n\t{\n\t\t// AMD. Register as an anonymous module.\n\t\tdefine([], factory);\n\t}\n\telse if (typeof module === 'object' && module.exports)\n\t{\n\t\t// Node. Does not work with strict CommonJS, but\n\t\t// only CommonJS-like environments that support module.exports,\n\t\t// like Node.\n\t\tmodule.exports = factory();\n\t}\n\telse\n\t{\n\t\t// Browser globals (root is window)\n\t\troot.Papa = factory();\n\t}\n}(this, function()\n{\n\t'use strict';\n\n\tvar global = Function('return this')();\n\tvar IS_WORKER = !global.document && !!global.postMessage,\n\t\tIS_PAPA_WORKER = IS_WORKER && /(\\?|&)papaworker(=|&|$)/.test(global.location.search),\n\t\tLOADED_SYNC = false, AUTO_SCRIPT_PATH;\n\tvar workers = {}, workerIdCounter = 0;\n\n\tvar Papa = {};\n\n\tPapa.parse = CsvToJson;\n\tPapa.unparse = JsonToCsv;\n\n\tPapa.RECORD_SEP = String.fromCharCode(30);\n\tPapa.UNIT_SEP = String.fromCharCode(31);\n\tPapa.BYTE_ORDER_MARK = '\\ufeff';\n\tPapa.BAD_DELIMITERS = ['\\r', '\\n', '\"', Papa.BYTE_ORDER_MARK];\n\tPapa.WORKERS_SUPPORTED = !IS_WORKER && !!global.Worker;\n\tPapa.SCRIPT_PATH = null;\t// Must be set by your code if you use workers and this lib is loaded asynchronously\n\n\t// Configurable chunk sizes for local and remote files, respectively\n\tPapa.LocalChunkSize = 1024 * 1024 * 10;\t// 10 MB\n\tPapa.RemoteChunkSize = 1024 * 1024 * 5;\t// 5 MB\n\tPapa.DefaultDelimiter = ',';\t\t\t// Used if not specified and detection fails\n\n\t// Exposed for testing and development only\n\tPapa.Parser = Parser;\n\tPapa.ParserHandle = ParserHandle;\n\tPapa.NetworkStreamer = NetworkStreamer;\n\tPapa.FileStreamer = FileStreamer;\n\tPapa.StringStreamer = StringStreamer;\n\n\tif (global.jQuery)\n\t{\n\t\tvar $ = global.jQuery;\n\t\t$.fn.parse = function(options)\n\t\t{\n\t\t\tvar config = options.config || {};\n\t\t\tvar queue = [];\n\n\t\t\tthis.each(function(idx)\n\t\t\t{\n\t\t\t\tvar supported = $(this).prop('tagName').toUpperCase() === 'INPUT'\n\t\t\t\t\t\t\t\t&& $(this).attr('type').toLowerCase() === 'file'\n\t\t\t\t\t\t\t\t&& global.FileReader;\n\n\t\t\t\tif (!supported || !this.files || this.files.length === 0)\n\t\t\t\t\treturn true;\t// continue to next input element\n\n\t\t\t\tfor (var i = 0; i < this.files.length; i++)\n\t\t\t\t{\n\t\t\t\t\tqueue.push({\n\t\t\t\t\t\tfile: this.files[i],\n\t\t\t\t\t\tinputElem: this,\n\t\t\t\t\t\tinstanceConfig: $.extend({}, config)\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tparseNextFile();\t// begin parsing\n\t\t\treturn this;\t\t// maintains chainability\n\n\n\t\t\tfunction parseNextFile()\n\t\t\t{\n\t\t\t\tif (queue.length === 0)\n\t\t\t\t{\n\t\t\t\t\tif (isFunction(options.complete))\n\t\t\t\t\t\toptions.complete();\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tvar f = queue[0];\n\n\t\t\t\tif (isFunction(options.before))\n\t\t\t\t{\n\t\t\t\t\tvar returned = options.before(f.file, f.inputElem);\n\n\t\t\t\t\tif (typeof returned === 'object')\n\t\t\t\t\t{\n\t\t\t\t\t\tif (returned.action === 'abort')\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\terror('AbortError', f.file, f.inputElem, returned.reason);\n\t\t\t\t\t\t\treturn;\t// Aborts all queued files immediately\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse if (returned.action === 'skip')\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tfileComplete();\t// parse the next file in the queue, if any\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse if (typeof returned.config === 'object')\n\t\t\t\t\t\t\tf.instanceConfig = $.extend(f.instanceConfig, returned.config);\n\t\t\t\t\t}\n\t\t\t\t\telse if (returned === 'skip')\n\t\t\t\t\t{\n\t\t\t\t\t\tfileComplete();\t// parse the next file in the queue, if any\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// Wrap up the user's complete callback, if any, so that ours also gets executed\n\t\t\t\tvar userCompleteFunc = f.instanceConfig.complete;\n\t\t\t\tf.instanceConfig.complete = function(results)\n\t\t\t\t{\n\t\t\t\t\tif (isFunction(userCompleteFunc))\n\t\t\t\t\t\tuserCompleteFunc(results, f.file, f.inputElem);\n\t\t\t\t\tfileComplete();\n\t\t\t\t};\n\n\t\t\t\tPapa.parse(f.file, f.instanceConfig);\n\t\t\t}\n\n\t\t\tfunction error(name, file, elem, reason)\n\t\t\t{\n\t\t\t\tif (isFunction(options.error))\n\t\t\t\t\toptions.error({name: name}, file, elem, reason);\n\t\t\t}\n\n\t\t\tfunction fileComplete()\n\t\t\t{\n\t\t\t\tqueue.splice(0, 1);\n\t\t\t\tparseNextFile();\n\t\t\t}\n\t\t}\n\t}\n\n\n\tif (IS_PAPA_WORKER)\n\t{\n\t\tglobal.onmessage = workerThreadReceivedMessage;\n\t}\n\telse if (Papa.WORKERS_SUPPORTED)\n\t{\n\t\tAUTO_SCRIPT_PATH = getScriptPath();\n\n\t\t// Check if the script was loaded synchronously\n\t\tif (!document.body)\n\t\t{\n\t\t\t// Body doesn't exist yet, must be synchronous\n\t\t\tLOADED_SYNC = true;\n\t\t}\n\t\telse\n\t\t{\n\t\t\tdocument.addEventListener('DOMContentLoaded', function () {\n\t\t\t\tLOADED_SYNC = true;\n\t\t\t}, true);\n\t\t}\n\t}\n\n\n\n\n\tfunction CsvToJson(_input, _config)\n\t{\n\t\t_config = _config || {};\n\t\t_config.dynamicTyping = _config.dynamicTyping || false;\n\n\t\tif (_config.worker && Papa.WORKERS_SUPPORTED)\n\t\t{\n\t\t\tvar w = newWorker();\n\n\t\t\tw.userStep = _config.step;\n\t\t\tw.userChunk = _config.chunk;\n\t\t\tw.userComplete = _config.complete;\n\t\t\tw.userError = _config.error;\n\n\t\t\t_config.step = isFunction(_config.step);\n\t\t\t_config.chunk = isFunction(_config.chunk);\n\t\t\t_config.complete = isFunction(_config.complete);\n\t\t\t_config.error = isFunction(_config.error);\n\t\t\tdelete _config.worker;\t// prevent infinite loop\n\n\t\t\tw.postMessage({\n\t\t\t\tinput: _input,\n\t\t\t\tconfig: _config,\n\t\t\t\tworkerId: w.id\n\t\t\t});\n\n\t\t\treturn;\n\t\t}\n\n\t\tvar streamer = null;\n\t\tif (typeof _input === 'string')\n\t\t{\n\t\t\tif (_config.download)\n\t\t\t\tstreamer = new NetworkStreamer(_config);\n\t\t\telse\n\t\t\t\tstreamer = new StringStreamer(_config);\n\t\t}\n\t\telse if ((global.File && _input instanceof File) || _input instanceof Object)\t// ...Safari. (see issue #106)\n\t\t\tstreamer = new FileStreamer(_config);\n\n\t\treturn streamer.stream(_input);\n\t}\n\n\n\n\n\n\n\tfunction JsonToCsv(_input, _config)\n\t{\n\t\tvar _output = '';\n\t\tvar _fields = [];\n\n\t\t// Default configuration\n\n\t\t/** whether to surround every datum with quotes */\n\t\tvar _quotes = false;\n\n\t\t/** delimiting character */\n\t\tvar _delimiter = ',';\n\n\t\t/** newline character(s) */\n\t\tvar _newline = '\\r\\n';\n\n\t\tunpackConfig();\n\n\t\tif (typeof _input === 'string')\n\t\t\t_input = JSON.parse(_input);\n\n\t\tif (_input instanceof Array)\n\t\t{\n\t\t\tif (!_input.length || _input[0] instanceof Array)\n\t\t\t\treturn serialize(null, _input);\n\t\t\telse if (typeof _input[0] === 'object')\n\t\t\t\treturn serialize(objectKeys(_input[0]), _input);\n\t\t}\n\t\telse if (typeof _input === 'object')\n\t\t{\n\t\t\tif (typeof _input.data === 'string')\n\t\t\t\t_input.data = JSON.parse(_input.data);\n\n\t\t\tif (_input.data instanceof Array)\n\t\t\t{\n\t\t\t\tif (!_input.fields)\n\t\t\t\t\t_input.fields =  _input.meta && _input.meta.fields;\n\n\t\t\t\tif (!_input.fields)\n\t\t\t\t\t_input.fields =  _input.data[0] instanceof Array\n\t\t\t\t\t\t\t\t\t? _input.fields\n\t\t\t\t\t\t\t\t\t: objectKeys(_input.data[0]);\n\n\t\t\t\tif (!(_input.data[0] instanceof Array) && typeof _input.data[0] !== 'object')\n\t\t\t\t\t_input.data = [_input.data];\t// handles input like [1,2,3] or ['asdf']\n\t\t\t}\n\n\t\t\treturn serialize(_input.fields || [], _input.data || []);\n\t\t}\n\n\t\t// Default (any valid paths should return before this)\n\t\tthrow 'exception: Unable to serialize unrecognized input';\n\n\n\t\tfunction unpackConfig()\n\t\t{\n\t\t\tif (typeof _config !== 'object')\n\t\t\t\treturn;\n\n\t\t\tif (typeof _config.delimiter === 'string'\n\t\t\t\t&& _config.delimiter.length === 1\n\t\t\t\t&& Papa.BAD_DELIMITERS.indexOf(_config.delimiter) === -1)\n\t\t\t{\n\t\t\t\t_delimiter = _config.delimiter;\n\t\t\t}\n\n\t\t\tif (typeof _config.quotes === 'boolean'\n\t\t\t\t|| _config.quotes instanceof Array)\n\t\t\t\t_quotes = _config.quotes;\n\n\t\t\tif (typeof _config.newline === 'string')\n\t\t\t\t_newline = _config.newline;\n\t\t}\n\n\n\t\t/** Turns an object's keys into an array */\n\t\tfunction objectKeys(obj)\n\t\t{\n\t\t\tif (typeof obj !== 'object')\n\t\t\t\treturn [];\n\t\t\tvar keys = [];\n\t\t\tfor (var key in obj)\n\t\t\t\tkeys.push(key);\n\t\t\treturn keys;\n\t\t}\n\n\t\t/** The double for loop that iterates the data and writes out a CSV string including header row */\n\t\tfunction serialize(fields, data)\n\t\t{\n\t\t\tvar csv = '';\n\n\t\t\tif (typeof fields === 'string')\n\t\t\t\tfields = JSON.parse(fields);\n\t\t\tif (typeof data === 'string')\n\t\t\t\tdata = JSON.parse(data);\n\n\t\t\tvar hasHeader = fields instanceof Array && fields.length > 0;\n\t\t\tvar dataKeyedByField = !(data[0] instanceof Array);\n\n\t\t\t// If there a header row, write it first\n\t\t\tif (hasHeader)\n\t\t\t{\n\t\t\t\tfor (var i = 0; i < fields.length; i++)\n\t\t\t\t{\n\t\t\t\t\tif (i > 0)\n\t\t\t\t\t\tcsv += _delimiter;\n\t\t\t\t\tcsv += safe(fields[i], i);\n\t\t\t\t}\n\t\t\t\tif (data.length > 0)\n\t\t\t\t\tcsv += _newline;\n\t\t\t}\n\n\t\t\t// Then write out the data\n\t\t\tfor (var row = 0; row < data.length; row++)\n\t\t\t{\n\t\t\t\tvar maxCol = hasHeader ? fields.length : data[row].length;\n\n\t\t\t\tfor (var col = 0; col < maxCol; col++)\n\t\t\t\t{\n\t\t\t\t\tif (col > 0)\n\t\t\t\t\t\tcsv += _delimiter;\n\t\t\t\t\tvar colIdx = hasHeader && dataKeyedByField ? fields[col] : col;\n\t\t\t\t\tcsv += safe(data[row][colIdx], col);\n\t\t\t\t}\n\n\t\t\t\tif (row < data.length - 1)\n\t\t\t\t\tcsv += _newline;\n\t\t\t}\n\n\t\t\treturn csv;\n\t\t}\n\n\t\t/** Encloses a value around quotes if needed (makes a value safe for CSV insertion) */\n\t\tfunction safe(str, col)\n\t\t{\n\t\t\tif (typeof str === 'undefined' || str === null)\n\t\t\t\treturn '';\n\n\t\t\tstr = str.toString().replace(/\"/g, '\"\"');\n\n\t\t\tvar needsQuotes = (typeof _quotes === 'boolean' && _quotes)\n\t\t\t\t\t\t\t|| (_quotes instanceof Array && _quotes[col])\n\t\t\t\t\t\t\t|| hasAny(str, Papa.BAD_DELIMITERS)\n\t\t\t\t\t\t\t|| str.indexOf(_delimiter) > -1\n\t\t\t\t\t\t\t|| str.charAt(0) === ' '\n\t\t\t\t\t\t\t|| str.charAt(str.length - 1) === ' ';\n\n\t\t\treturn needsQuotes ? '\"' + str + '\"' : str;\n\t\t}\n\n\t\tfunction hasAny(str, substrings)\n\t\t{\n\t\t\tfor (var i = 0; i < substrings.length; i++)\n\t\t\t\tif (str.indexOf(substrings[i]) > -1)\n\t\t\t\t\treturn true;\n\t\t\treturn false;\n\t\t}\n\t}\n\n\t/** ChunkStreamer is the base prototype for various streamer implementations. */\n\tfunction ChunkStreamer(config)\n\t{\n\t\tthis._handle = null;\n\t\tthis._paused = false;\n\t\tthis._finished = false;\n\t\tthis._input = null;\n\t\tthis._baseIndex = 0;\n\t\tthis._partialLine = '';\n\t\tthis._rowCount = 0;\n\t\tthis._start = 0;\n\t\tthis._nextChunk = null;\n\t\tthis.isFirstChunk = true;\n\t\tthis._completeResults = {\n\t\t\tdata: [],\n\t\t\terrors: [],\n\t\t\tmeta: {}\n\t\t};\n\t\treplaceConfig.call(this, config);\n\n\t\tthis.parseChunk = function(chunk)\n\t\t{\n\t\t\t// First chunk pre-processing\n\t\t\tif (this.isFirstChunk && isFunction(this._config.beforeFirstChunk))\n\t\t\t{\n\t\t\t\tvar modifiedChunk = this._config.beforeFirstChunk(chunk);\n\t\t\t\tif (modifiedChunk !== undefined)\n\t\t\t\t\tchunk = modifiedChunk;\n\t\t\t}\n\t\t\tthis.isFirstChunk = false;\n\n\t\t\t// Rejoin the line we likely just split in two by chunking the file\n\t\t\tvar aggregate = this._partialLine + chunk;\n\t\t\tthis._partialLine = '';\n\n\t\t\tvar results = this._handle.parse(aggregate, this._baseIndex, !this._finished);\n\n\t\t\tif (this._handle.paused() || this._handle.aborted())\n\t\t\t\treturn;\n\n\t\t\tvar lastIndex = results.meta.cursor;\n\n\t\t\tif (!this._finished)\n\t\t\t{\n\t\t\t\tthis._partialLine = aggregate.substring(lastIndex - this._baseIndex);\n\t\t\t\tthis._baseIndex = lastIndex;\n\t\t\t}\n\n\t\t\tif (results && results.data)\n\t\t\t\tthis._rowCount += results.data.length;\n\n\t\t\tvar finishedIncludingPreview = this._finished || (this._config.preview && this._rowCount >= this._config.preview);\n\n\t\t\tif (IS_PAPA_WORKER)\n\t\t\t{\n\t\t\t\tglobal.postMessage({\n\t\t\t\t\tresults: results,\n\t\t\t\t\tworkerId: Papa.WORKER_ID,\n\t\t\t\t\tfinished: finishedIncludingPreview\n\t\t\t\t});\n\t\t\t}\n\t\t\telse if (isFunction(this._config.chunk))\n\t\t\t{\n\t\t\t\tthis._config.chunk(results, this._handle);\n\t\t\t\tif (this._paused)\n\t\t\t\t\treturn;\n\t\t\t\tresults = undefined;\n\t\t\t\tthis._completeResults = undefined;\n\t\t\t}\n\n\t\t\tif (!this._config.step && !this._config.chunk) {\n\t\t\t\tthis._completeResults.data = this._completeResults.data.concat(results.data);\n\t\t\t\tthis._completeResults.errors = this._completeResults.errors.concat(results.errors);\n\t\t\t\tthis._completeResults.meta = results.meta;\n\t\t\t}\n\n\t\t\tif (finishedIncludingPreview && isFunction(this._config.complete) && (!results || !results.meta.aborted))\n\t\t\t\tthis._config.complete(this._completeResults, this._input);\n\n\t\t\tif (!finishedIncludingPreview && (!results || !results.meta.paused))\n\t\t\t\tthis._nextChunk();\n\n\t\t\treturn results;\n\t\t};\n\n\t\tthis._sendError = function(error)\n\t\t{\n\t\t\tif (isFunction(this._config.error))\n\t\t\t\tthis._config.error(error);\n\t\t\telse if (IS_PAPA_WORKER && this._config.error)\n\t\t\t{\n\t\t\t\tglobal.postMessage({\n\t\t\t\t\tworkerId: Papa.WORKER_ID,\n\t\t\t\t\terror: error,\n\t\t\t\t\tfinished: false\n\t\t\t\t});\n\t\t\t}\n\t\t};\n\n\t\tfunction replaceConfig(config)\n\t\t{\n\t\t\t// Deep-copy the config so we can edit it\n\t\t\tvar configCopy = copy(config);\n\t\t\tconfigCopy.chunkSize = parseInt(configCopy.chunkSize);\t// parseInt VERY important so we don't concatenate strings!\n\t\t\tif (!config.step && !config.chunk)\n\t\t\t\tconfigCopy.chunkSize = null;  // disable Range header if not streaming; bad values break IIS - see issue #196\n\t\t\tthis._handle = new ParserHandle(configCopy);\n\t\t\tthis._handle.streamer = this;\n\t\t\tthis._config = configCopy;\t// persist the copy to the caller\n\t\t}\n\t}\n\n\n\tfunction NetworkStreamer(config)\n\t{\n\t\tconfig = config || {};\n\t\tif (!config.chunkSize)\n\t\t\tconfig.chunkSize = Papa.RemoteChunkSize;\n\t\tChunkStreamer.call(this, config);\n\n\t\tvar xhr;\n\n\t\tif (IS_WORKER)\n\t\t{\n\t\t\tthis._nextChunk = function()\n\t\t\t{\n\t\t\t\tthis._readChunk();\n\t\t\t\tthis._chunkLoaded();\n\t\t\t};\n\t\t}\n\t\telse\n\t\t{\n\t\t\tthis._nextChunk = function()\n\t\t\t{\n\t\t\t\tthis._readChunk();\n\t\t\t};\n\t\t}\n\n\t\tthis.stream = function(url)\n\t\t{\n\t\t\tthis._input = url;\n\t\t\tthis._nextChunk();\t// Starts streaming\n\t\t};\n\n\t\tthis._readChunk = function()\n\t\t{\n\t\t\tif (this._finished)\n\t\t\t{\n\t\t\t\tthis._chunkLoaded();\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\txhr = new XMLHttpRequest();\n\n\t\t\tif (this._config.withCredentials)\n\t\t\t{\n\t\t\t\txhr.withCredentials = this._config.withCredentials;\n\t\t\t}\n\n\t\t\tif (!IS_WORKER)\n\t\t\t{\n\t\t\t\txhr.onload = bindFunction(this._chunkLoaded, this);\n\t\t\t\txhr.onerror = bindFunction(this._chunkError, this);\n\t\t\t}\n\n\t\t\txhr.open('GET', this._input, !IS_WORKER);\n\n\t\t\tif (this._config.chunkSize)\n\t\t\t{\n\t\t\t\tvar end = this._start + this._config.chunkSize - 1;\t// minus one because byte range is inclusive\n\t\t\t\txhr.setRequestHeader('Range', 'bytes='+this._start+'-'+end);\n\t\t\t\txhr.setRequestHeader('If-None-Match', 'webkit-no-cache'); // https://bugs.webkit.org/show_bug.cgi?id=82672\n\t\t\t}\n\n\t\t\ttry {\n\t\t\t\txhr.send();\n\t\t\t}\n\t\t\tcatch (err) {\n\t\t\t\tthis._chunkError(err.message);\n\t\t\t}\n\n\t\t\tif (IS_WORKER && xhr.status === 0)\n\t\t\t\tthis._chunkError();\n\t\t\telse\n\t\t\t\tthis._start += this._config.chunkSize;\n\t\t}\n\n\t\tthis._chunkLoaded = function()\n\t\t{\n\t\t\tif (xhr.readyState != 4)\n\t\t\t\treturn;\n\n\t\t\tif (xhr.status < 200 || xhr.status >= 400)\n\t\t\t{\n\t\t\t\tthis._chunkError();\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis._finished = !this._config.chunkSize || this._start > getFileSize(xhr);\n\t\t\tthis.parseChunk(xhr.responseText);\n\t\t}\n\n\t\tthis._chunkError = function(errorMessage)\n\t\t{\n\t\t\tvar errorText = xhr.statusText || errorMessage;\n\t\t\tthis._sendError(errorText);\n\t\t}\n\n\t\tfunction getFileSize(xhr)\n\t\t{\n\t\t\tvar contentRange = xhr.getResponseHeader('Content-Range');\n\t\t\treturn parseInt(contentRange.substr(contentRange.lastIndexOf('/') + 1));\n\t\t}\n\t}\n\tNetworkStreamer.prototype = Object.create(ChunkStreamer.prototype);\n\tNetworkStreamer.prototype.constructor = NetworkStreamer;\n\n\n\tfunction FileStreamer(config)\n\t{\n\t\tconfig = config || {};\n\t\tif (!config.chunkSize)\n\t\t\tconfig.chunkSize = Papa.LocalChunkSize;\n\t\tChunkStreamer.call(this, config);\n\n\t\tvar reader, slice;\n\n\t\t// FileReader is better than FileReaderSync (even in worker) - see http://stackoverflow.com/q/24708649/1048862\n\t\t// But Firefox is a pill, too - see issue #76: https://github.com/mholt/PapaParse/issues/76\n\t\tvar usingAsyncReader = typeof FileReader !== 'undefined';\t// Safari doesn't consider it a function - see issue #105\n\n\t\tthis.stream = function(file)\n\t\t{\n\t\t\tthis._input = file;\n\t\t\tslice = file.slice || file.webkitSlice || file.mozSlice;\n\n\t\t\tif (usingAsyncReader)\n\t\t\t{\n\t\t\t\treader = new FileReader();\t\t// Preferred method of reading files, even in workers\n\t\t\t\treader.onload = bindFunction(this._chunkLoaded, this);\n\t\t\t\treader.onerror = bindFunction(this._chunkError, this);\n\t\t\t}\n\t\t\telse\n\t\t\t\treader = new FileReaderSync();\t// Hack for running in a web worker in Firefox\n\n\t\t\tthis._nextChunk();\t// Starts streaming\n\t\t};\n\n\t\tthis._nextChunk = function()\n\t\t{\n\t\t\tif (!this._finished && (!this._config.preview || this._rowCount < this._config.preview))\n\t\t\t\tthis._readChunk();\n\t\t}\n\n\t\tthis._readChunk = function()\n\t\t{\n\t\t\tvar input = this._input;\n\t\t\tif (this._config.chunkSize)\n\t\t\t{\n\t\t\t\tvar end = Math.min(this._start + this._config.chunkSize, this._input.size);\n\t\t\t\tinput = slice.call(input, this._start, end);\n\t\t\t}\n\t\t\tvar txt = reader.readAsText(input, this._config.encoding);\n\t\t\tif (!usingAsyncReader)\n\t\t\t\tthis._chunkLoaded({ target: { result: txt } });\t// mimic the async signature\n\t\t}\n\n\t\tthis._chunkLoaded = function(event)\n\t\t{\n\t\t\t// Very important to increment start each time before handling results\n\t\t\tthis._start += this._config.chunkSize;\n\t\t\tthis._finished = !this._config.chunkSize || this._start >= this._input.size;\n\t\t\tthis.parseChunk(event.target.result);\n\t\t}\n\n\t\tthis._chunkError = function()\n\t\t{\n\t\t\tthis._sendError(reader.error);\n\t\t}\n\n\t}\n\tFileStreamer.prototype = Object.create(ChunkStreamer.prototype);\n\tFileStreamer.prototype.constructor = FileStreamer;\n\n\n\tfunction StringStreamer(config)\n\t{\n\t\tconfig = config || {};\n\t\tChunkStreamer.call(this, config);\n\n\t\tvar string;\n\t\tvar remaining;\n\t\tthis.stream = function(s)\n\t\t{\n\t\t\tstring = s;\n\t\t\tremaining = s;\n\t\t\treturn this._nextChunk();\n\t\t}\n\t\tthis._nextChunk = function()\n\t\t{\n\t\t\tif (this._finished) return;\n\t\t\tvar size = this._config.chunkSize;\n\t\t\tvar chunk = size ? remaining.substr(0, size) : remaining;\n\t\t\tremaining = size ? remaining.substr(size) : '';\n\t\t\tthis._finished = !remaining;\n\t\t\treturn this.parseChunk(chunk);\n\t\t}\n\t}\n\tStringStreamer.prototype = Object.create(StringStreamer.prototype);\n\tStringStreamer.prototype.constructor = StringStreamer;\n\n\n\n\t// Use one ParserHandle per entire CSV file or string\n\tfunction ParserHandle(_config)\n\t{\n\t\t// One goal is to minimize the use of regular expressions...\n\t\tvar FLOAT = /^\\s*-?(\\d*\\.?\\d+|\\d+\\.?\\d*)(e[-+]?\\d+)?\\s*$/i;\n\n\t\tvar self = this;\n\t\tvar _stepCounter = 0;\t// Number of times step was called (number of rows parsed)\n\t\tvar _input;\t\t\t\t// The input being parsed\n\t\tvar _parser;\t\t\t// The core parser being used\n\t\tvar _paused = false;\t// Whether we are paused or not\n\t\tvar _aborted = false;   // Whether the parser has aborted or not\n\t\tvar _delimiterError;\t// Temporary state between delimiter detection and processing results\n\t\tvar _fields = [];\t\t// Fields are from the header row of the input, if there is one\n\t\tvar _results = {\t\t// The last results returned from the parser\n\t\t\tdata: [],\n\t\t\terrors: [],\n\t\t\tmeta: {}\n\t\t};\n\n\t\tif (isFunction(_config.step))\n\t\t{\n\t\t\tvar userStep = _config.step;\n\t\t\t_config.step = function(results)\n\t\t\t{\n\t\t\t\t_results = results;\n\n\t\t\t\tif (needsHeaderRow())\n\t\t\t\t\tprocessResults();\n\t\t\t\telse\t// only call user's step function after header row\n\t\t\t\t{\n\t\t\t\t\tprocessResults();\n\n\t\t\t\t\t// It's possbile that this line was empty and there's no row here after all\n\t\t\t\t\tif (_results.data.length === 0)\n\t\t\t\t\t\treturn;\n\n\t\t\t\t\t_stepCounter += results.data.length;\n\t\t\t\t\tif (_config.preview && _stepCounter > _config.preview)\n\t\t\t\t\t\t_parser.abort();\n\t\t\t\t\telse\n\t\t\t\t\t\tuserStep(_results, self);\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\n\t\t/**\n\t\t * Parses input. Most users won't need, and shouldn't mess with, the baseIndex\n\t\t * and ignoreLastRow parameters. They are used by streamers (wrapper functions)\n\t\t * when an input comes in multiple chunks, like from a file.\n\t\t */\n\t\tthis.parse = function(input, baseIndex, ignoreLastRow)\n\t\t{\n\t\t\tif (!_config.newline)\n\t\t\t\t_config.newline = guessLineEndings(input);\n\n\t\t\t_delimiterError = false;\n\t\t\tif (!_config.delimiter)\n\t\t\t{\n\t\t\t\tvar delimGuess = guessDelimiter(input, _config.newline);\n\t\t\t\tif (delimGuess.successful)\n\t\t\t\t\t_config.delimiter = delimGuess.bestDelimiter;\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\t_delimiterError = true;\t// add error after parsing (otherwise it would be overwritten)\n\t\t\t\t\t_config.delimiter = Papa.DefaultDelimiter;\n\t\t\t\t}\n\t\t\t\t_results.meta.delimiter = _config.delimiter;\n\t\t\t}\n\n\t\t\tvar parserConfig = copy(_config);\n\t\t\tif (_config.preview && _config.header)\n\t\t\t\tparserConfig.preview++;\t// to compensate for header row\n\n\t\t\t_input = input;\n\t\t\t_parser = new Parser(parserConfig);\n\t\t\t_results = _parser.parse(_input, baseIndex, ignoreLastRow);\n\t\t\tprocessResults();\n\t\t\treturn _paused ? { meta: { paused: true } } : (_results || { meta: { paused: false } });\n\t\t};\n\n\t\tthis.paused = function()\n\t\t{\n\t\t\treturn _paused;\n\t\t};\n\n\t\tthis.pause = function()\n\t\t{\n\t\t\t_paused = true;\n\t\t\t_parser.abort();\n\t\t\t_input = _input.substr(_parser.getCharIndex());\n\t\t};\n\n\t\tthis.resume = function()\n\t\t{\n\t\t\t_paused = false;\n\t\t\tself.streamer.parseChunk(_input);\n\t\t};\n\n\t\tthis.aborted = function ()\n\t\t{\n\t\t\treturn _aborted;\n\t\t};\n\n\t\tthis.abort = function()\n\t\t{\n\t\t\t_aborted = true;\n\t\t\t_parser.abort();\n\t\t\t_results.meta.aborted = true;\n\t\t\tif (isFunction(_config.complete))\n\t\t\t\t_config.complete(_results);\n\t\t\t_input = '';\n\t\t};\n\n\t\tfunction processResults()\n\t\t{\n\t\t\tif (_results && _delimiterError)\n\t\t\t{\n\t\t\t\taddError('Delimiter', 'UndetectableDelimiter', 'Unable to auto-detect delimiting character; defaulted to \\''+Papa.DefaultDelimiter+'\\'');\n\t\t\t\t_delimiterError = false;\n\t\t\t}\n\n\t\t\tif (_config.skipEmptyLines)\n\t\t\t{\n\t\t\t\tfor (var i = 0; i < _results.data.length; i++)\n\t\t\t\t\tif (_results.data[i].length === 1 && _results.data[i][0] === '')\n\t\t\t\t\t\t_results.data.splice(i--, 1);\n\t\t\t}\n\n\t\t\tif (needsHeaderRow())\n\t\t\t\tfillHeaderFields();\n\n\t\t\treturn applyHeaderAndDynamicTyping();\n\t\t}\n\n\t\tfunction needsHeaderRow()\n\t\t{\n\t\t\treturn _config.header && _fields.length === 0;\n\t\t}\n\n\t\tfunction fillHeaderFields()\n\t\t{\n\t\t\tif (!_results)\n\t\t\t\treturn;\n\t\t\tfor (var i = 0; needsHeaderRow() && i < _results.data.length; i++)\n\t\t\t\tfor (var j = 0; j < _results.data[i].length; j++)\n\t\t\t\t\t_fields.push(_results.data[i][j]);\n\t\t\t_results.data.splice(0, 1);\n\t\t}\n\n\t\tfunction parseDynamic(field, value)\n\t\t{\n\t\t\tif ((_config.dynamicTyping[field] || _config.dynamicTyping) === true)\n\t\t\t{\n\t\t\t\tif (value === 'true' || value === 'TRUE')\n\t\t\t\t\treturn true;\n\t\t\t\telse if (value === 'false' || value === 'FALSE')\n\t\t\t\t\treturn false;\n\t\t\t\telse\n\t\t\t\t\treturn tryParseFloat(value);\n\t\t\t}\n\t\t\treturn value;\n\t\t}\n\n\t\tfunction applyHeaderAndDynamicTyping()\n\t\t{\n\t\t\tif (!_results || (!_config.header && !_config.dynamicTyping))\n\t\t\t\treturn _results;\n\n\t\t\tfor (var i = 0; i < _results.data.length; i++)\n\t\t\t{\n\t\t\t\tvar row = _config.header ? {} : [];\n\n\t\t\t\tfor (var j = 0; j < _results.data[i].length; j++)\n\t\t\t\t{\n\t\t\t\t\tvar field = j;\n\t\t\t\t\tvar value = _results.data[i][j];\n\n\t\t\t\t\tif (_config.header)\n\t\t\t\t\t\tfield = j >= _fields.length ? '__parsed_extra' : _fields[j];\n\n\t\t\t\t\tvalue = parseDynamic(field, value);\n\n\t\t\t\t\tif (field === '__parsed_extra')\n\t\t\t\t\t{\n\t\t\t\t\t\trow[field] = row[field] || [];\n\t\t\t\t\t\trow[field].push(value);\n\t\t\t\t\t}\n\t\t\t\t\telse\n\t\t\t\t\t\trow[field] = value;\n\t\t\t\t}\n\n\t\t\t\t_results.data[i] = row;\n\n\t\t\t\tif (_config.header)\n\t\t\t\t{\n\t\t\t\t\tif (j > _fields.length)\n\t\t\t\t\t\taddError('FieldMismatch', 'TooManyFields', 'Too many fields: expected ' + _fields.length + ' fields but parsed ' + j, i);\n\t\t\t\t\telse if (j < _fields.length)\n\t\t\t\t\t\taddError('FieldMismatch', 'TooFewFields', 'Too few fields: expected ' + _fields.length + ' fields but parsed ' + j, i);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (_config.header && _results.meta)\n\t\t\t\t_results.meta.fields = _fields;\n\t\t\treturn _results;\n\t\t}\n\n\t\tfunction guessDelimiter(input, newline)\n\t\t{\n\t\t\tvar delimChoices = [',', '\\t', '|', ';', Papa.RECORD_SEP, Papa.UNIT_SEP];\n\t\t\tvar bestDelim, bestDelta, fieldCountPrevRow;\n\n\t\t\tfor (var i = 0; i < delimChoices.length; i++)\n\t\t\t{\n\t\t\t\tvar delim = delimChoices[i];\n\t\t\t\tvar delta = 0, avgFieldCount = 0;\n\t\t\t\tfieldCountPrevRow = undefined;\n\n\t\t\t\tvar preview = new Parser({\n\t\t\t\t\tdelimiter: delim,\n\t\t\t\t\tnewline: newline,\n\t\t\t\t\tpreview: 10\n\t\t\t\t}).parse(input);\n\n\t\t\t\tfor (var j = 0; j < preview.data.length; j++)\n\t\t\t\t{\n\t\t\t\t\tvar fieldCount = preview.data[j].length;\n\t\t\t\t\tavgFieldCount += fieldCount;\n\n\t\t\t\t\tif (typeof fieldCountPrevRow === 'undefined')\n\t\t\t\t\t{\n\t\t\t\t\t\tfieldCountPrevRow = fieldCount;\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\t\t\t\t\telse if (fieldCount > 1)\n\t\t\t\t\t{\n\t\t\t\t\t\tdelta += Math.abs(fieldCount - fieldCountPrevRow);\n\t\t\t\t\t\tfieldCountPrevRow = fieldCount;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (preview.data.length > 0)\n\t\t\t\t\tavgFieldCount /= preview.data.length;\n\n\t\t\t\tif ((typeof bestDelta === 'undefined' || delta < bestDelta)\n\t\t\t\t\t&& avgFieldCount > 1.99)\n\t\t\t\t{\n\t\t\t\t\tbestDelta = delta;\n\t\t\t\t\tbestDelim = delim;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t_config.delimiter = bestDelim;\n\n\t\t\treturn {\n\t\t\t\tsuccessful: !!bestDelim,\n\t\t\t\tbestDelimiter: bestDelim\n\t\t\t}\n\t\t}\n\n\t\tfunction guessLineEndings(input)\n\t\t{\n\t\t\tinput = input.substr(0, 1024*1024);\t// max length 1 MB\n\n\t\t\tvar r = input.split('\\r');\n\n\t\t\tvar n = input.split('\\n');\n\n\t\t\tvar nAppearsFirst = (n.length > 1 && n[0].length < r[0].length);\n\n\t\t\tif (r.length === 1 || nAppearsFirst)\n\t\t\t\treturn '\\n';\n\n\t\t\tvar numWithN = 0;\n\t\t\tfor (var i = 0; i < r.length; i++)\n\t\t\t{\n\t\t\t\tif (r[i][0] === '\\n')\n\t\t\t\t\tnumWithN++;\n\t\t\t}\n\n\t\t\treturn numWithN >= r.length / 2 ? '\\r\\n' : '\\r';\n\t\t}\n\n\t\tfunction tryParseFloat(val)\n\t\t{\n\t\t\tvar isNumber = FLOAT.test(val);\n\t\t\treturn isNumber ? parseFloat(val) : val;\n\t\t}\n\n\t\tfunction addError(type, code, msg, row)\n\t\t{\n\t\t\t_results.errors.push({\n\t\t\t\ttype: type,\n\t\t\t\tcode: code,\n\t\t\t\tmessage: msg,\n\t\t\t\trow: row\n\t\t\t});\n\t\t}\n\t}\n\n\n\n\n\n\t/** The core parser implements speedy and correct CSV parsing */\n\tfunction Parser(config)\n\t{\n\t\t// Unpack the config object\n\t\tconfig = config || {};\n\t\tvar delim = config.delimiter;\n\t\tvar newline = config.newline;\n\t\tvar comments = config.comments;\n\t\tvar step = config.step;\n\t\tvar preview = config.preview;\n\t\tvar fastMode = config.fastMode;\n\t\tvar quoteChar = config.quoteChar || '\"';\n\n\t\t// Delimiter must be valid\n\t\tif (typeof delim !== 'string'\n\t\t\t|| Papa.BAD_DELIMITERS.indexOf(delim) > -1)\n\t\t\tdelim = ',';\n\n\t\t// Comment character must be valid\n\t\tif (comments === delim)\n\t\t\tthrow 'Comment character same as delimiter';\n\t\telse if (comments === true)\n\t\t\tcomments = '#';\n\t\telse if (typeof comments !== 'string'\n\t\t\t|| Papa.BAD_DELIMITERS.indexOf(comments) > -1)\n\t\t\tcomments = false;\n\n\t\t// Newline must be valid: \\r, \\n, or \\r\\n\n\t\tif (newline != '\\n' && newline != '\\r' && newline != '\\r\\n')\n\t\t\tnewline = '\\n';\n\n\t\t// We're gonna need these at the Parser scope\n\t\tvar cursor = 0;\n\t\tvar aborted = false;\n\n\t\tthis.parse = function(input, baseIndex, ignoreLastRow)\n\t\t{\n\t\t\t// For some reason, in Chrome, this speeds things up (!?)\n\t\t\tif (typeof input !== 'string')\n\t\t\t\tthrow 'Input must be a string';\n\n\t\t\t// We don't need to compute some of these every time parse() is called,\n\t\t\t// but having them in a more local scope seems to perform better\n\t\t\tvar inputLen = input.length,\n\t\t\t\tdelimLen = delim.length,\n\t\t\t\tnewlineLen = newline.length,\n\t\t\t\tcommentsLen = comments.length;\n\t\t\tvar stepIsFunction = typeof step === 'function';\n\n\t\t\t// Establish starting state\n\t\t\tcursor = 0;\n\t\t\tvar data = [], errors = [], row = [], lastCursor = 0;\n\n\t\t\tif (!input)\n\t\t\t\treturn returnable();\n\n\t\t\tif (fastMode || (fastMode !== false && input.indexOf(quoteChar) === -1))\n\t\t\t{\n\t\t\t\tvar rows = input.split(newline);\n\t\t\t\tfor (var i = 0; i < rows.length; i++)\n\t\t\t\t{\n\t\t\t\t\tvar row = rows[i];\n\t\t\t\t\tcursor += row.length;\n\t\t\t\t\tif (i !== rows.length - 1)\n\t\t\t\t\t\tcursor += newline.length;\n\t\t\t\t\telse if (ignoreLastRow)\n\t\t\t\t\t\treturn returnable();\n\t\t\t\t\tif (comments && row.substr(0, commentsLen) === comments)\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\tif (stepIsFunction)\n\t\t\t\t\t{\n\t\t\t\t\t\tdata = [];\n\t\t\t\t\t\tpushRow(row.split(delim));\n\t\t\t\t\t\tdoStep();\n\t\t\t\t\t\tif (aborted)\n\t\t\t\t\t\t\treturn returnable();\n\t\t\t\t\t}\n\t\t\t\t\telse\n\t\t\t\t\t\tpushRow(row.split(delim));\n\t\t\t\t\tif (preview && i >= preview)\n\t\t\t\t\t{\n\t\t\t\t\t\tdata = data.slice(0, preview);\n\t\t\t\t\t\treturn returnable(true);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn returnable();\n\t\t\t}\n\n\t\t\tvar nextDelim = input.indexOf(delim, cursor);\n\t\t\tvar nextNewline = input.indexOf(newline, cursor);\n\t\t\tvar quoteCharRegex = new RegExp(quoteChar+quoteChar, 'g');\n\n\t\t\t// Parser loop\n\t\t\tfor (;;)\n\t\t\t{\n\t\t\t\t// Field has opening quote\n\t\t\t\tif (input[cursor] === quoteChar)\n\t\t\t\t{\n\t\t\t\t\t// Start our search for the closing quote where the cursor is\n\t\t\t\t\tvar quoteSearch = cursor;\n\n\t\t\t\t\t// Skip the opening quote\n\t\t\t\t\tcursor++;\n\n\t\t\t\t\tfor (;;)\n\t\t\t\t\t{\n\t\t\t\t\t\t// Find closing quote\n\t\t\t\t\t\tvar quoteSearch = input.indexOf(quoteChar, quoteSearch+1);\n\n\t\t\t\t\t\tif (quoteSearch === -1)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tif (!ignoreLastRow) {\n\t\t\t\t\t\t\t\t// No closing quote... what a pity\n\t\t\t\t\t\t\t\terrors.push({\n\t\t\t\t\t\t\t\t\ttype: 'Quotes',\n\t\t\t\t\t\t\t\t\tcode: 'MissingQuotes',\n\t\t\t\t\t\t\t\t\tmessage: 'Quoted field unterminated',\n\t\t\t\t\t\t\t\t\trow: data.length,\t// row has yet to be inserted\n\t\t\t\t\t\t\t\t\tindex: cursor\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn finish();\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (quoteSearch === inputLen-1)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t// Closing quote at EOF\n\t\t\t\t\t\t\tvar value = input.substring(cursor, quoteSearch).replace(quoteCharRegex, quoteChar);\n\t\t\t\t\t\t\treturn finish(value);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// If this quote is escaped, it's part of the data; skip it\n\t\t\t\t\t\tif (input[quoteSearch+1] === quoteChar)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tquoteSearch++;\n\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (input[quoteSearch+1] === delim)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t// Closing quote followed by delimiter\n\t\t\t\t\t\t\trow.push(input.substring(cursor, quoteSearch).replace(quoteCharRegex, quoteChar));\n\t\t\t\t\t\t\tcursor = quoteSearch + 1 + delimLen;\n\t\t\t\t\t\t\tnextDelim = input.indexOf(delim, cursor);\n\t\t\t\t\t\t\tnextNewline = input.indexOf(newline, cursor);\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (input.substr(quoteSearch+1, newlineLen) === newline)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t// Closing quote followed by newline\n\t\t\t\t\t\t\trow.push(input.substring(cursor, quoteSearch).replace(quoteCharRegex, quoteChar));\n\t\t\t\t\t\t\tsaveRow(quoteSearch + 1 + newlineLen);\n\t\t\t\t\t\t\tnextDelim = input.indexOf(delim, cursor);\t// because we may have skipped the nextDelim in the quoted field\n\n\t\t\t\t\t\t\tif (stepIsFunction)\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tdoStep();\n\t\t\t\t\t\t\t\tif (aborted)\n\t\t\t\t\t\t\t\t\treturn returnable();\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif (preview && data.length >= preview)\n\t\t\t\t\t\t\t\treturn returnable(true);\n\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\t// Comment found at start of new line\n\t\t\t\tif (comments && row.length === 0 && input.substr(cursor, commentsLen) === comments)\n\t\t\t\t{\n\t\t\t\t\tif (nextNewline === -1)\t// Comment ends at EOF\n\t\t\t\t\t\treturn returnable();\n\t\t\t\t\tcursor = nextNewline + newlineLen;\n\t\t\t\t\tnextNewline = input.indexOf(newline, cursor);\n\t\t\t\t\tnextDelim = input.indexOf(delim, cursor);\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\t// Next delimiter comes before next newline, so we've reached end of field\n\t\t\t\tif (nextDelim !== -1 && (nextDelim < nextNewline || nextNewline === -1))\n\t\t\t\t{\n\t\t\t\t\trow.push(input.substring(cursor, nextDelim));\n\t\t\t\t\tcursor = nextDelim + delimLen;\n\t\t\t\t\tnextDelim = input.indexOf(delim, cursor);\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\t// End of row\n\t\t\t\tif (nextNewline !== -1)\n\t\t\t\t{\n\t\t\t\t\trow.push(input.substring(cursor, nextNewline));\n\t\t\t\t\tsaveRow(nextNewline + newlineLen);\n\n\t\t\t\t\tif (stepIsFunction)\n\t\t\t\t\t{\n\t\t\t\t\t\tdoStep();\n\t\t\t\t\t\tif (aborted)\n\t\t\t\t\t\t\treturn returnable();\n\t\t\t\t\t}\n\n\t\t\t\t\tif (preview && data.length >= preview)\n\t\t\t\t\t\treturn returnable(true);\n\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\tbreak;\n\t\t\t}\n\n\n\t\t\treturn finish();\n\n\n\t\t\tfunction pushRow(row)\n\t\t\t{\n\t\t\t\tdata.push(row);\n\t\t\t\tlastCursor = cursor;\n\t\t\t}\n\n\t\t\t/**\n\t\t\t * Appends the remaining input from cursor to the end into\n\t\t\t * row, saves the row, calls step, and returns the results.\n\t\t\t */\n\t\t\tfunction finish(value)\n\t\t\t{\n\t\t\t\tif (ignoreLastRow)\n\t\t\t\t\treturn returnable();\n\t\t\t\tif (typeof value === 'undefined')\n\t\t\t\t\tvalue = input.substr(cursor);\n\t\t\t\trow.push(value);\n\t\t\t\tcursor = inputLen;\t// important in case parsing is paused\n\t\t\t\tpushRow(row);\n\t\t\t\tif (stepIsFunction)\n\t\t\t\t\tdoStep();\n\t\t\t\treturn returnable();\n\t\t\t}\n\n\t\t\t/**\n\t\t\t * Appends the current row to the results. It sets the cursor\n\t\t\t * to newCursor and finds the nextNewline. The caller should\n\t\t\t * take care to execute user's step function and check for\n\t\t\t * preview and end parsing if necessary.\n\t\t\t */\n\t\t\tfunction saveRow(newCursor)\n\t\t\t{\n\t\t\t\tcursor = newCursor;\n\t\t\t\tpushRow(row);\n\t\t\t\trow = [];\n\t\t\t\tnextNewline = input.indexOf(newline, cursor);\n\t\t\t}\n\n\t\t\t/** Returns an object with the results, errors, and meta. */\n\t\t\tfunction returnable(stopped)\n\t\t\t{\n\t\t\t\treturn {\n\t\t\t\t\tdata: data,\n\t\t\t\t\terrors: errors,\n\t\t\t\t\tmeta: {\n\t\t\t\t\t\tdelimiter: delim,\n\t\t\t\t\t\tlinebreak: newline,\n\t\t\t\t\t\taborted: aborted,\n\t\t\t\t\t\ttruncated: !!stopped,\n\t\t\t\t\t\tcursor: lastCursor + (baseIndex || 0)\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t}\n\n\t\t\t/** Executes the user's step function and resets data & errors. */\n\t\t\tfunction doStep()\n\t\t\t{\n\t\t\t\tstep(returnable());\n\t\t\t\tdata = [], errors = [];\n\t\t\t}\n\t\t};\n\n\t\t/** Sets the abort flag */\n\t\tthis.abort = function()\n\t\t{\n\t\t\taborted = true;\n\t\t};\n\n\t\t/** Gets the cursor position */\n\t\tthis.getCharIndex = function()\n\t\t{\n\t\t\treturn cursor;\n\t\t};\n\t}\n\n\n\t// If you need to load Papa Parse asynchronously and you also need worker threads, hard-code\n\t// the script path here. See: https://github.com/mholt/PapaParse/issues/87#issuecomment-57885358\n\tfunction getScriptPath()\n\t{\n\t\tvar scripts = document.getElementsByTagName('script');\n\t\treturn scripts.length ? scripts[scripts.length - 1].src : '';\n\t}\n\n\tfunction newWorker()\n\t{\n\t\tif (!Papa.WORKERS_SUPPORTED)\n\t\t\treturn false;\n\t\tif (!LOADED_SYNC && Papa.SCRIPT_PATH === null)\n\t\t\tthrow new Error(\n\t\t\t\t'Script path cannot be determined automatically when Papa Parse is loaded asynchronously. ' +\n\t\t\t\t'You need to set Papa.SCRIPT_PATH manually.'\n\t\t\t);\n\t\tvar workerUrl = Papa.SCRIPT_PATH || AUTO_SCRIPT_PATH;\n\t\t// Append 'papaworker' to the search string to tell papaparse that this is our worker.\n\t\tworkerUrl += (workerUrl.indexOf('?') !== -1 ? '&' : '?') + 'papaworker';\n\t\tvar w = new global.Worker(workerUrl);\n\t\tw.onmessage = mainThreadReceivedMessage;\n\t\tw.id = workerIdCounter++;\n\t\tworkers[w.id] = w;\n\t\treturn w;\n\t}\n\n\t/** Callback when main thread receives a message */\n\tfunction mainThreadReceivedMessage(e)\n\t{\n\t\tvar msg = e.data;\n\t\tvar worker = workers[msg.workerId];\n\t\tvar aborted = false;\n\n\t\tif (msg.error)\n\t\t\tworker.userError(msg.error, msg.file);\n\t\telse if (msg.results && msg.results.data)\n\t\t{\n\t\t\tvar abort = function() {\n\t\t\t\taborted = true;\n\t\t\t\tcompleteWorker(msg.workerId, { data: [], errors: [], meta: { aborted: true } });\n\t\t\t};\n\n\t\t\tvar handle = {\n\t\t\t\tabort: abort,\n\t\t\t\tpause: notImplemented,\n\t\t\t\tresume: notImplemented\n\t\t\t};\n\n\t\t\tif (isFunction(worker.userStep))\n\t\t\t{\n\t\t\t\tfor (var i = 0; i < msg.results.data.length; i++)\n\t\t\t\t{\n\t\t\t\t\tworker.userStep({\n\t\t\t\t\t\tdata: [msg.results.data[i]],\n\t\t\t\t\t\terrors: msg.results.errors,\n\t\t\t\t\t\tmeta: msg.results.meta\n\t\t\t\t\t}, handle);\n\t\t\t\t\tif (aborted)\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tdelete msg.results;\t// free memory ASAP\n\t\t\t}\n\t\t\telse if (isFunction(worker.userChunk))\n\t\t\t{\n\t\t\t\tworker.userChunk(msg.results, handle, msg.file);\n\t\t\t\tdelete msg.results;\n\t\t\t}\n\t\t}\n\n\t\tif (msg.finished && !aborted)\n\t\t\tcompleteWorker(msg.workerId, msg.results);\n\t}\n\n\tfunction completeWorker(workerId, results) {\n\t\tvar worker = workers[workerId];\n\t\tif (isFunction(worker.userComplete))\n\t\t\tworker.userComplete(results);\n\t\tworker.terminate();\n\t\tdelete workers[workerId];\n\t}\n\n\tfunction notImplemented() {\n\t\tthrow 'Not implemented.';\n\t}\n\n\t/** Callback when worker thread receives a message */\n\tfunction workerThreadReceivedMessage(e)\n\t{\n\t\tvar msg = e.data;\n\n\t\tif (typeof Papa.WORKER_ID === 'undefined' && msg)\n\t\t\tPapa.WORKER_ID = msg.workerId;\n\n\t\tif (typeof msg.input === 'string')\n\t\t{\n\t\t\tglobal.postMessage({\n\t\t\t\tworkerId: Papa.WORKER_ID,\n\t\t\t\tresults: Papa.parse(msg.input, msg.config),\n\t\t\t\tfinished: true\n\t\t\t});\n\t\t}\n\t\telse if ((global.File && msg.input instanceof File) || msg.input instanceof Object)\t// thank you, Safari (see issue #106)\n\t\t{\n\t\t\tvar results = Papa.parse(msg.input, msg.config);\n\t\t\tif (results)\n\t\t\t\tglobal.postMessage({\n\t\t\t\t\tworkerId: Papa.WORKER_ID,\n\t\t\t\t\tresults: results,\n\t\t\t\t\tfinished: true\n\t\t\t\t});\n\t\t}\n\t}\n\n\t/** Makes a deep copy of an array or object (mostly) */\n\tfunction copy(obj)\n\t{\n\t\tif (typeof obj !== 'object')\n\t\t\treturn obj;\n\t\tvar cpy = obj instanceof Array ? [] : {};\n\t\tfor (var key in obj)\n\t\t\tcpy[key] = copy(obj[key]);\n\t\treturn cpy;\n\t}\n\n\tfunction bindFunction(f, self)\n\t{\n\t\treturn function() { f.apply(self, arguments); };\n\t}\n\n\tfunction isFunction(func)\n\t{\n\t\treturn typeof func === 'function';\n\t}\n\n\treturn Papa;\n}));\n\n(function () {\n  'use strict';\n\n  angular\n    .module('dataVis', [\n      'ngAnimate', 'ngCookies',\n      'ngTouch', 'ngSanitize', 'ngMessages',\n      'ngAria', 'ui.router', 'ui.bootstrap',\n\n      'dataVis.helper', 'dataVis.dl']);\n\n})();\n\n(function() {\n  'use strict';\n\n  angular\n      .module('dataVis')\n      .service('webDevTec', webDevTec);\n\n  /** @ngInject */\n  function webDevTec() {\n    var data = [\n      {\n        'title': 'AngularJS',\n        'url': 'https://angularjs.org/',\n        'description': 'HTML enhanced for web apps!',\n        'logo': 'angular.png'\n      },\n      {\n        'title': 'BrowserSync',\n        'url': 'http://browsersync.io/',\n        'description': 'Time-saving synchronised browser testing.',\n        'logo': 'browsersync.png'\n      },\n      {\n        'title': 'GulpJS',\n        'url': 'http://gulpjs.com/',\n        'description': 'The streaming build system.',\n        'logo': 'gulp.png'\n      },\n      {\n        'title': 'Jasmine',\n        'url': 'http://jasmine.github.io/',\n        'description': 'Behavior-Driven JavaScript.',\n        'logo': 'jasmine.png'\n      },\n      {\n        'title': 'Karma',\n        'url': 'http://karma-runner.github.io/',\n        'description': 'Spectacular Test Runner for JavaScript.',\n        'logo': 'karma.png'\n      },\n      {\n        'title': 'Protractor',\n        'url': 'https://github.com/angular/protractor',\n        'description': 'End to end test framework for AngularJS applications built on top of WebDriverJS.',\n        'logo': 'protractor.png'\n      },\n      {\n        'title': 'Bootstrap',\n        'url': 'http://getbootstrap.com/',\n        'description': 'Bootstrap is the most popular HTML, CSS, and JS framework for developing responsive, mobile first projects on the web.',\n        'logo': 'bootstrap.png'\n      },\n      {\n        'title': 'Angular UI Bootstrap',\n        'url': 'http://angular-ui.github.io/bootstrap/',\n        'description': 'Bootstrap components written in pure AngularJS by the AngularUI Team.',\n        'logo': 'ui-bootstrap.png'\n      },\n      {\n        'title': 'Sass (Node)',\n        'url': 'https://github.com/sass/node-sass',\n        'description': 'Node.js binding to libsass, the C version of the popular stylesheet preprocessor, Sass.',\n        'logo': 'node-sass.png'\n      }\n    ];\n\n    this.getTec = getTec;\n\n    function getTec() {\n      return data;\n    }\n  }\n\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('dataVis')\n    .directive('acmeNavbar', acmeNavbar);\n\n  /** @ngInject */\n  function acmeNavbar() {\n    var directive = {\n      restrict: 'E',\n      templateUrl: 'app/components/navbar/navbar.html',\n      scope: {\n          creationDate: '='\n      },\n      controller: NavbarController,\n      controllerAs: 'vm',\n      bindToController: true\n    };\n\n    return directive;\n\n    /** @ngInject */\n    function NavbarController(moment) {\n      var vm = this;\n\n      // \"vm.creationDate\" is available by directive option \"bindToController: true\"\n      vm.relativeDate = moment(vm.creationDate).fromNow();\n    }\n  }\n\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('dataVis')\n    .directive('acmeMalarkey', acmeMalarkey);\n\n  /** @ngInject */\n  function acmeMalarkey(malarkey) {\n    var directive = {\n      restrict: 'E',\n      scope: {\n        extraValues: '='\n      },\n      template: '&nbsp;',\n      link: linkFunc,\n      controller: MalarkeyController,\n      controllerAs: 'vm'\n    };\n\n    return directive;\n\n    function linkFunc(scope, el, attr, vm) {\n      var watcher;\n      var typist = malarkey(el[0], {\n        typeSpeed: 40,\n        deleteSpeed: 40,\n        pauseDelay: 800,\n        loop: true,\n        postfix: ' '\n      });\n\n      el.addClass('acme-malarkey');\n\n      angular.forEach(scope.extraValues, function(value) {\n        typist.type(value).pause().delete();\n      });\n\n      watcher = scope.$watch('vm.contributors', function() {\n        angular.forEach(vm.contributors, function(contributor) {\n          typist.type(contributor.login).pause().delete();\n        });\n      });\n\n      scope.$on('$destroy', function () {\n        watcher();\n      });\n    }\n\n    /** @ngInject */\n    function MalarkeyController($log, githubContributor) {\n      var vm = this;\n\n      vm.contributors = [];\n\n      activate();\n\n      function activate() {\n        return getContributors().then(function() {\n          $log.info('Activated Contributors View');\n        });\n      }\n\n      function getContributors() {\n        return githubContributor.getContributors(10).then(function(data) {\n          vm.contributors = data;\n\n          return vm.contributors;\n        });\n      }\n    }\n\n  }\n\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('dataVis')\n    .directive('visFooter', VisFooterbar);\n\n  /** @ngInject */\n  function VisFooterbar() {\n    var directive = {\n      restrict: 'E',\n      templateUrl: 'app/components/footer/footer.html',\n      scope: {\n          creationDate: '='\n      },\n      controller: FooterCtrl,\n      controllerAs: 'vm',\n      bindToController: true\n    };\n\n    return directive;\n\n    /** @ngInject */\n    function FooterCtrl(moment) {\n      var vm = this;\n\n      // \"vm.creationDate\" is available by directive option \"bindToController: true\"\n      vm.relativeDate = moment(vm.creationDate).fromNow();\n    }\n  }\n\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('dataVis')\n    .factory('githubContributor', githubContributor);\n\n  /** @ngInject */\n  function githubContributor($log, $http) {\n    var apiHost = 'https://api.github.com/repos/Swiip/generator-gulp-angular';\n\n    var service = {\n      apiHost: apiHost,\n      getContributors: getContributors\n    };\n\n    return service;\n\n    function getContributors(limit) {\n      if (!limit) {\n        limit = 30;\n      }\n\n      return $http.get(apiHost + '/contributors?per_page=' + limit)\n        .then(getContributorsComplete)\n        .catch(getContributorsFailed);\n\n      function getContributorsComplete(response) {\n        return response.data;\n      }\n\n      function getContributorsFailed(error) {\n        $log.error('XHR Failed for getContributors.\\n' + angular.toJson(error.data, true));\n      }\n    }\n  }\n})();\n\n/**\n * Created by sudhir on 16/9/16.\n */\n\n(function () {\n  'use strict';\n\n  angular\n    .module('dataVis.dl', [])\n    .factory('DL', DataLl);\n\n  /** @ngInject */\n  function DataLl($timeout, $http) {\n\n    return {\n      fetchPaymentHistory: fetchPaymentHistory,\n      fetchPaymentDetails: fetchPaymentDetails\n    };\n\n    function fetchPaymentHistory() {\n      return $http.get('./assets/data/csv/payment_history.csv')\n        .then(function (result) {\n\n          /* Return data fetched from the csv file */\n          return result.data || null;\n        });\n    }\n\n    function fetchPaymentDetails() {\n      return $http.get('./assets/data/csv/usage_details.csv')\n        .then(function (result) {\n\n          /* Return data fetched from the csv file */\n          return result.data || null;\n        });\n    }\n  }\n})();\n\n\n/**\n * Created by sudhir on 16/9/16.\n */\n\nangular\n  .module('dataVis')\n  .controller('ModalInstanceCtrl', function ($uibModalInstance, payment) {\n    var $ctrl = this;\n    $ctrl.paymentDetails = payment;\n    \n    $ctrl.ok = function () {\n      $uibModalInstance.close($ctrl.selected.item);\n    };\n\n    $ctrl.cancel = function () {\n      $uibModalInstance.dismiss('cancel');\n    };\n  });\n\n(function () {\n  'use strict';\n\n  angular\n    .module('dataVis')\n    .controller('MainController', MainController);\n\n  /** @ngInject */\n  function MainController($q, $uibModal\n    , DL, DvSupport, DvBusiness) {\n    var vm = this;\n\n    vm.store = {\n      payment_details: [],\n      history_records: []\n    };\n\n    vm.showToastr = showToastr;\n    vm.getSubTotal = _getSubTotal;\n    vm.showDetails = _showDetails;\n\n    initView();\n\n    function initView() {\n      $q.all([\n          _updatePaymentRecords(),\n          _updatePaymentHistory()\n        ])\n        .then(function (resultBundle) {\n          /* On fetch success */\n          console.log(resultBundle);\n        })\n        .catch(function () {\n          /* On fetch fail */\n        })\n    }\n\n    function _showDetails(payment) {\n      var modalInstance = $uibModal.open({\n        animation: true,\n        ariaLabelledBy: 'modal-title',\n        ariaDescribedBy: 'modal-body',\n        templateUrl: './app/paymentDetails/details.modal.html',\n        controller: 'ModalInstanceCtrl',\n        controllerAs: '$ctrl',\n        size: 'lg',\n        resolve: {\n          payment: function () {\n            return payment;\n          }\n        }\n      });\n\n      modalInstance.result.then(function (selectedItem) {\n        $ctrl.selected = selectedItem;\n      }, function () {\n        // $log.info('Modal dismissed at: ' + new Date());\n      });\n    }\n\n    function _getSubTotal(paymentRow) {\n      return DvBusiness.compute_paymentRecordRowTotal(\n        paymentRow[1], // usage\n        paymentRow[2], // freeQuota\n        paymentRow[3], // chargable\n        paymentRow[4]) // perUnit\n        ;\n    }\n\n    function _updatePaymentRecords() {\n      return DL.fetchPaymentDetails()\n        .then(function (csvString) {\n\n          var records = DvSupport.CSVtoJSON(csvString);\n\n          vm.store.payment_details = records;\n          return records;\n        })\n    }\n\n    function _updatePaymentHistory() {\n      return DL.fetchPaymentHistory()\n        .then(function (csvString) {\n\n          var records = DvSupport.CSVtoJSON(csvString);\n\n          vm.store.history_records = records;\n          return records;\n        })\n    }\n\n    function showToastr() {\n    }\n  }\n})();\n\n/**\n * Created by sudhir on 16/9/16.\n */\n\n(function () {\n  'use strict';\n\n  angular\n    .module('dataVis.helper', [])\n    .factory('DvSupport', DvSupport)\n    .factory('DvBusiness', DvBusiness);\n\n  function DvBusiness() {\n    return {\n      compute_paymentRecordRowTotal: compute_paymentRecordRowTotal\n    };\n\n    function compute_paymentRecordRowTotal(usage, freeQuota, chargable, perUnit) {\n      return 0;\n    }\n\n  }\n\n  /** @ngInject */\n  function DvSupport() {\n\n    return {\n      CSVtoJSON: CSVtoJSON\n    };\n\n    function CSVtoJSON(csvString) {\n      var papaData = Papa.parse(csvString);\n      return papaData.errors.length == 0 ? papaData.data : null;\n    }\n  }\n})();\n(function() {\n  'use strict';\n\n  angular\n    .module('dataVis')\n    .run(runBlock);\n\n  /** @ngInject */\n  function runBlock($log) {\n\n    $log.debug('runBlock end');\n  }\n\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('dataVis')\n    .config(routerConfig);\n\n  /** @ngInject */\n  function routerConfig($stateProvider, $urlRouterProvider) {\n    $stateProvider\n      .state('home', {\n        url: '/',\n        templateUrl: 'app/main/main.html',\n        controller: 'MainController',\n        controllerAs: 'main'\n      })\n      .state('details', {\n        url: '/details',\n        templateUrl: 'app/paymentDetails/details.html',\n        // controller: 'MainController',\n        // controllerAs: 'main'\n      })\n    ;\n\n    $urlRouterProvider.otherwise('/');\n  }\n\n})();\n\n/* global malarkey:false, moment:false */\n(function() {\n  'use strict';\n\n  angular\n    .module('dataVis')\n    .constant('malarkey', malarkey)\n    .constant('moment', moment);\n\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('dataVis')\n    .config(config);\n\n  /** @ngInject */\n  function config($logProvider) {\n    // Enable log\n    $logProvider.debugEnabled(true);\n  }\n\n})();\n\nangular.module(\"dataVis\").run([\"$templateCache\", function($templateCache) {$templateCache.put(\"app/main/main.html\",\"<div class=\\\"container container-full bg-fill-empty\\\" flex layout=column layout-align=center><!-- Header --><div><acme-navbar creation-date=main.creationDate></acme-navbar></div><div class=container--body flex><div class=\\\"card-group cg-collapse-gt-sm\\\"><div class=\\\"card card-hero\\\"><div layout-gt-xs=row layout=column flex><div placement=left uib-tooltip-popup content=\\\"lorem ipsum\\\"></div><div class=row flex><div class=\\\"col-sm-9 col-xs-8\\\"><h1 class=jumbo><span>This Month\\'s Charges</span> <span uib-tooltip=\\\"Lorem Ipsum\\\" class=\\\"glyphicon glyphicon glyphicon-question-sign txt-color-sec\\\" aria-hidden=true></span></h1><h5 class=\\\"txt-color-alt txt-light\\\"><span>Mar 1</span> <span>- yesterday</span></h5><h5 class=\\\"txt-color-alt txt-light\\\"><span>Will be charged on</span> <span>1st Apr 2016</span></h5></div><div class=\\\"col-sm-3 col-xs-4 text-right\\\"><div class=\\\"txt-sub-hero txt-light\\\">USD</div><div class=\\\"txt-hero txt-light\\\">$200</div></div></div><div style=\\\"height: 45px\\\" class=\\\"hide-xs padding padding-left pdl-md\\\"></div><div style=\\\"height: 45px\\\" class=\\\"hide-xs padding padding-left pdl-lg divider dv-at-left\\\"></div><!--Spacer --><div class=\\\"padding-top pdt-lg hide-gt-xs\\\"></div><div><div layout=row layout-gt-xs=column><div layout=row layout-align=\\\"start center\\\" flex><span class=\\\"glyphicon glyphicon glyphicon-credit-card\\\" aria-hidden=true style=\\\"font-size: 25px\\\"></span> <span class=padding-left style=\\\"font-size: 16px\\\"><span class=\\\"hide-xs txt-color-sec-2\\\">**** **** ****</span> <span class=\\\"txt-color-sec hide-gt-xs\\\">ending in </span><span>8888</span></span></div><p class=\\\"padding-top txt-color-alt-2\\\"><span class=hide-xs>Change Payment details </span><span class=hide-gt-xs>Switch card</span></p></div></div></div></div><div class=\\\"card card-hero\\\"><h1 class=jumbo>Details</h1><table class=\\\"table table-dashboard\\\"><thead><tr><th></th><th class=visible-sm-table-cell>Usage</th><th class=visible-sm-table-cell>Free Quota</th><th class=visible-sm-table-cell>Chargable</th><th class=visible-sm-table-cell>$/Unit</th><th class=visible-sm-table-cell>Sub Total</th></tr></thead><tbody><tr ng-repeat=\\\"payment in main.store.payment_details\\\"><td class=full-width><span ng-bind=payment[0]></span></td><td class=visible-sm-table-cell><span ng-bind=payment[1]></span></td><td class=visible-sm-table-cell><span ng-bind=payment[2]></span></td><td class=visible-sm-table-cell><span ng-bind=\\\"\\'x $\\'+payment[3]\\\"></span></td><td class=visible-sm-table-cell><span ng-bind=payment[4]></span></td><td><span ng-bind=\\\"\\'$\\'+main.getSubTotal(payment)\\\"></span></td><td class=hide-gt-xs ng-click=main.showDetails(payment)><span class=\\\"glyphicon glyphicon-menu-right txt-color-sec\\\" aria-hidden=true></span></td></tr><!-- Total --><tr><td><span class=\\\"hide-gt-xs txt-color-sec-2\\\">Total:</span></td><td class=visible-sm-table-cell></td><td class=visible-sm-table-cell></td><td class=visible-sm-table-cell></td><td class=visible-sm-table-cell></td><td class=txt-no-wrap><span class=\\\"hide-xs txt-color-sec-2\\\">Total: </span><span>$2.00</span></td></tr></tbody></table><h1 class=jumbo>History</h1><div class=row><div class=col-sm-6><table class=\\\"table table-dashboard\\\"><tbody><tr ng-repeat=\\\"pHistory in main.store.history_records\\\"><td class=\\\"full-width txt-color-alt-2\\\"><span ng-bind=\\\"pHistory[1]+\\' \\'+pHistory[0]\\\"></span></td><td><span ng-bind=pHistory[2]></span></td><td><span ng-bind=pHistory[3]></span></td></tr></tbody></table></div></div></div></div></div><!-- Footer --><div><vis-footer></vis-footer></div></div>\");\n$templateCache.put(\"app/paymentDetails/details.modal.html\",\"<div class=modal-header layout=row layout-align=\\\"start center\\\"><div class=navbar-brand><div ng-click=$ctrl.cancel() class=txt-color-sec><span class=\\\"glyphicon glyphicon-menu-left txt-color-sec\\\" aria-hidden=true></span> <span>Back</span></div></div></div><div class=modal-body id=modal-body><table class=\\\"table table-dashboard table-compact\\\"><tbody><tr class=with-border-bottom><td class=\\\"full-width txt-color-alt txt-light\\\"><span class=\\\"txt-no-wrap txt-color-sec\\\" ng-bind=$ctrl.paymentDetails[0]></span></td><td><span>$2.00</span></td></tr><tr><td class=\\\"full-width txt-color-alt\\\"><span>Usage</span></td><td><span class=\\\"txt-no-wrap txt-color-sec\\\" ng-bind=$ctrl.paymentDetails[1]></span></td></tr><tr><td class=\\\"full-width txt-color-alt\\\"><span>Free Quota</span></td><td><span class=\\\"txt-no-wrap txt-color-sec\\\" ng-bind=$ctrl.paymentDetails[2]></span></td></tr><tr><td class=\\\"full-width txt-color-alt\\\"><span>Chargable</span></td><td><span class=\\\"txt-no-wrap txt-color-sec\\\" ng-bind=$ctrl.paymentDetails[3]></span></td></tr><tr><td class=\\\"full-width txt-color-alt\\\"><span>$/Unit</span></td><td><span class=\\\"txt-no-wrap txt-color-sec\\\" ng-bind=\\\"\\'x $\\'+$ctrl.paymentDetails[4]\\\"></span></td></tr><tr><td class=full-width><span>Subtotal</span></td><td><span ng-bind=\\\"\\'$2.00\\'\\\"></span></td></tr></tbody></table></div><!--<div class=\\\"modal-footer\\\">--> <!--</div>-->\");\n$templateCache.put(\"app/components/footer/footer.html\",\"<nav class=\\\"navbar navbar-footer bg-fill-shade-1\\\"><div class=\\\"container-fluid container--body wrapper\\\"><!-- Privacy/Cookies | Legal Notices & Trademarks | Report Noncompliance | © 2016 Autodesk Inc. All rights reserved --><div layout=row layout-align=\\\"center center\\\" layout-wrap class=\\\"wrapper txt-no-wrap txt-light\\\"><a class=\\\"hide-xs txt-color-alt\\\" href=#>Privacy/Cookies</a> <span class=\\\"hide-xs padding-left padding-right txt-color-alt\\\">|</span> <a class=\\\"hide-xs txt-color-alt\\\" href=#>Privacy/Cookies</a> <span class=\\\"hide-xs padding-left padding-right txt-color-alt\\\">|</span> <a class=\\\"hide-xs txt-color-alt\\\" href=#>Legal Notices & Trademarks</a> <span class=\\\"hide-xs padding-left padding-right txt-color-alt\\\">|</span> <a class=\\\"hide-xs txt-color-alt\\\" href=#>Report Noncompliance</a> <span class=\\\"hide-xs padding-left padding-right txt-color-alt\\\">|</span> <a class=txt-color-sec-2 href=#>© 2016 Autodesk Inc. All rights reserved</a></div></div></nav>\");\n$templateCache.put(\"app/components/navbar/navbar.html\",\"<nav class=\\\"navbar navbar-static-top navbar-default\\\"><div class=\\\"navbar-header container--body\\\"><a class=\\\"navbar--item navbar-brand\\\" href=https://github.com/Swiip/generator-gulp-angular><!--<span class=\\\"glyphicon glyphicon-home\\\"></span>--> <span class=txt-light>Usage and Billing</span></a></div></nav>\");}]);"],"sourceRoot":"/source/"}